%ifndef __ERRNO_INC__
%define __ERRNO_INC__

%ifndef __ERRNO_ASM__
extern check_syscall_fail
%endif

%macro CHECK_SYSCALL 0
	cmp rax, SYSCALL_ERROR_RANGE
	jae check_syscall_fail
%endmacro 

%ifndef STRINGIFY
%define STRINGIFY(&x) x
%endif
	
%macro DEFINE_ERRNO 3
	%1 equ %2
%ifdef DEBUG
%ifdef __ERRNO_ASM__
	align 64
	db STRINGIFY(%1), " ", %3, 0
%endif
%endif
%endmacro              

SYSCALL_ERROR_RANGE equ -4095

DEFINE_ERRNO EPERM, -1, "Operation not permitted"
DEFINE_ERRNO ENOENT, -2, "No such file or directory"
DEFINE_ERRNO ESRCH, -3, "No such process"
DEFINE_ERRNO EINTR, -4, "Interrupted system call"
DEFINE_ERRNO EIO, -5, "Input/output error"
DEFINE_ERRNO ENXIO, -6, "No such device or address"
DEFINE_ERRNO E2BIG, -7, "Argument list too long"
DEFINE_ERRNO ENOEXEC, -8, "Exec format error"
DEFINE_ERRNO EBADF, -9, "Bad file descriptor"
DEFINE_ERRNO ECHILD, -10, "No child processes"
DEFINE_ERRNO EAGAIN, -11, "Resource temporarily unavailable"
DEFINE_ERRNO ENOMEM, -12, "Cannot allocate memory"
DEFINE_ERRNO EACCES, -13, "Permission denied"
DEFINE_ERRNO EFAULT, -14, "Bad address"
DEFINE_ERRNO ENOTBLK, -15, "Block device required"
DEFINE_ERRNO EBUSY, -16, "Device or resource busy"
DEFINE_ERRNO EEXIST, -17, "File exists"
DEFINE_ERRNO EXDEV, -18, "Invalid cross-device link"
DEFINE_ERRNO ENODEV, -19, "No such device"
DEFINE_ERRNO ENOTDIR, -20, "Not a directory"
DEFINE_ERRNO EISDIR, -21, "Is a directory"
DEFINE_ERRNO EINVAL, -22, "Invalid argument"
DEFINE_ERRNO ENFILE, -23, "Too many open files in system"
DEFINE_ERRNO EMFILE, -24, "Too many open files"
DEFINE_ERRNO ENOTTY, -25, "Inappropriate ioctl for device"
DEFINE_ERRNO ETXTBSY, -26, "Text file busy"
DEFINE_ERRNO EFBIG, -27, "File too large"
DEFINE_ERRNO ENOSPC, -28, "No space left on device"
DEFINE_ERRNO ESPIPE, -29, "Illegal seek"
DEFINE_ERRNO EROFS, -30, "Read-only file system"				
DEFINE_ERRNO EMLINK, -31, "Too many links"
DEFINE_ERRNO EPIPE, -32, "Broken pipe"
DEFINE_ERRNO EDOM, -33, "Numerical argument out of domain"
DEFINE_ERRNO ERANGE, -34, "Numerical result out of range"
DEFINE_ERRNO EDEADLK, -35, "Resource deadlock avoided"
DEFINE_ERRNO ENAMETOOLONG, -36, "File name too long"
DEFINE_ERRNO ENOLCK, -37, "No locks available"
DEFINE_ERRNO ENOSYS, -38, "Function not implemented"
DEFINE_ERRNO ENOTEMPTY, -39, "Directory not empty"
DEFINE_ERRNO ELOOP, -40, "Too many levels of symbolic links"
DEFINE_ERRNO EWOULDBLOCK, -11, "Resource temporarily unavailable"
DEFINE_ERRNO ENOMSG, -42, "No message of desired type"
DEFINE_ERRNO EIDRM, -43, "Identifier removed"
DEFINE_ERRNO ECHRNG, -44, "Channel number out of range"
DEFINE_ERRNO EL2NSYNC, -45, "Level 2 not synchronized"
DEFINE_ERRNO EL3HLT, -46, "Level 3 halted"
DEFINE_ERRNO EL3RST, -47, "Level 3 reset"
DEFINE_ERRNO ELNRNG, -48, "Link number out of range"
DEFINE_ERRNO EUNATCH, -49, "Protocol driver not attached"
DEFINE_ERRNO ENOCSI, -50, "No CSI structure available"
DEFINE_ERRNO EL2HLT, -51, "Level 2 halted"
DEFINE_ERRNO EBADE, -52, "Invalid exchange"
DEFINE_ERRNO EBADR, -53, "Invalid request descriptor"
DEFINE_ERRNO EXFULL, -54, "Exchange full"
DEFINE_ERRNO ENOANO, -55, "No anode"
DEFINE_ERRNO EBADRQC, -56, "Invalid request code"
DEFINE_ERRNO EBADSLT, -57, "Invalid slot"
DEFINE_ERRNO EDEADLOCK, -35, "Resource deadlock avoided"
DEFINE_ERRNO EBFONT, -59, "Bad font file format"
DEFINE_ERRNO ENOSTR, -60, "Device not a stream"
DEFINE_ERRNO ENODATA, -61, "No data available"
DEFINE_ERRNO ETIME, -62, "Timer expired"
DEFINE_ERRNO ENOSR, -63, "Out of streams resources"
DEFINE_ERRNO ENONET, -64, "Machine is not on the network"
DEFINE_ERRNO ENOPKG, -65, "Package not installed"
DEFINE_ERRNO EREMOTE, -66, "Object is remote"
DEFINE_ERRNO ENOLINK, -67, "Link has been severed"
DEFINE_ERRNO EADV, -68, "Advertise error"
DEFINE_ERRNO ESRMNT, -69, "Srmount error"
DEFINE_ERRNO ECOMM, -70, "Communication error on send"
DEFINE_ERRNO EPROTO, -71, "Protocol error"
DEFINE_ERRNO EMULTIHOP, -72, "Multihop attempted"
DEFINE_ERRNO EDOTDOT, -73, "RFS specific error"
DEFINE_ERRNO EBADMSG, -74, "Bad message"
DEFINE_ERRNO EOVERFLOW, -75, "Value too large for defined data type"
DEFINE_ERRNO ENOTUNIQ, -76, "Name not unique on network"
DEFINE_ERRNO EBADFD, -77, "File descriptor in bad state"
DEFINE_ERRNO EREMCHG, -78, "Remote address changed"
DEFINE_ERRNO ELIBACC, -79, "Can not access a needed shared library"
DEFINE_ERRNO ELIBBAD, -80, "Accessing a corrupted shared library"
DEFINE_ERRNO ELIBSCN, -81, "lib section in a.out corrupted"
DEFINE_ERRNO ELIBMAX, -82, "Attempting to link in too many shared libraries"
DEFINE_ERRNO ELIBEXEC, -83, "Cannot exec a shared library directly"
DEFINE_ERRNO EILSEQ, -84, "Invalid or incomplete multibyte or wide character"
DEFINE_ERRNO ERESTART, -85, "Interrupted system call should be restarted"
DEFINE_ERRNO ESTRPIPE, -86, "Streams pipe error"
DEFINE_ERRNO EUSERS, -87, "Too many users"
DEFINE_ERRNO ENOTSOCK, -88, "Socket operation on non-socket"
DEFINE_ERRNO EDESTADDRREQ, -89, "Destination address required"
DEFINE_ERRNO EMSGSIZE, -90, "Message too long"
DEFINE_ERRNO EPROTOTYPE, -91, "Protocol wrong type for socket"
DEFINE_ERRNO ENOPROTOOPT, -92, "Protocol not available"
DEFINE_ERRNO EPROTONOSUPPORT, -93, "Protocol not supported"
DEFINE_ERRNO ESOCKTNOSUPPORT, -94, "Socket type not supported"
DEFINE_ERRNO EOPNOTSUPP, -95, "Operation not supported"
DEFINE_ERRNO EPFNOSUPPORT, -96, "Protocol family not supported"
DEFINE_ERRNO EAFNOSUPPORT, -97, "Address family not supported by protocol"
DEFINE_ERRNO EADDRINUSE, -98, "Address already in use"
DEFINE_ERRNO EADDRNOTAVAIL, -99, "Cannot assign requested address"
DEFINE_ERRNO ENETDOWN, -100, "Network is down"
DEFINE_ERRNO ENETUNREACH, -101, "Network is unreachable"
DEFINE_ERRNO ENETRESET, -102, "Network dropped connection on reset"
DEFINE_ERRNO ECONNABORTED, -103, "Software caused connection abort"
DEFINE_ERRNO ECONNRESET, -104, "Connection reset by peer"
DEFINE_ERRNO ENOBUFS, -105, "No buffer space available"
DEFINE_ERRNO EISCONN, -106, "Transport endpoint is already connected"
DEFINE_ERRNO ENOTCONN, -107, "Transport endpoint is not connected"
DEFINE_ERRNO ESHUTDOWN, -108, "Cannot send after transport endpoint shutdown_vulkan"
DEFINE_ERRNO ETOOMANYREFS, -109, "Too many references: cannot splice"
DEFINE_ERRNO ETIMEDOUT, -110, "Connection timed out"
DEFINE_ERRNO ECONNREFUSED, -111, "Connection refused"
DEFINE_ERRNO EHOSTDOWN, -112, "Host is down"
DEFINE_ERRNO EHOSTUNREACH, -113, "No route to host"
DEFINE_ERRNO EALREADY, -114, "Operation already in progress"
DEFINE_ERRNO EINPROGRESS, -115, "Operation now in progress"
DEFINE_ERRNO ESTALE, -116, "Stale file handle"
DEFINE_ERRNO EUCLEAN, -117, "Structure needs cleaning"
DEFINE_ERRNO ENOTNAM, -118, "Not a XENIX named type file"
DEFINE_ERRNO ENAVAIL, -119, "No XENIX semaphores available"
DEFINE_ERRNO EISNAM, -120, "Is a named type file"
DEFINE_ERRNO EREMOTEIO, -121, "Remote I/O error"
DEFINE_ERRNO EDQUOT, -122, "Disk quota exceeded"
DEFINE_ERRNO ENOMEDIUM, -123, "No medium found"
DEFINE_ERRNO EMEDIUMTYPE, -124, "Wrong medium type"
DEFINE_ERRNO ECANCELED, -125, "Operation canceled"
DEFINE_ERRNO ENOKEY, -126, "Required key not available"
DEFINE_ERRNO EKEYEXPIRED, -127, "Key has expired"
DEFINE_ERRNO EKEYREVOKED, -128, "Key has been revoked"
DEFINE_ERRNO EKEYREJECTED, -129, "Key was rejected by service"
DEFINE_ERRNO EOWNERDEAD, -130, "Owner died"
DEFINE_ERRNO ENOTRECOVERABLE, -131, "State not recoverable"
DEFINE_ERRNO ERFKILL, -132, "Operation not possible due to RF-kill"
DEFINE_ERRNO EHWPOISON, -133, "Memory page has hardware error"
DEFINE_ERRNO ENOTSUP, -95, "Operation not supported"

%endif
